HDFS
---------
$ sudo docker exec -it hadoop-master bash // permet d'exécuter les jobs sur le container master 

hadoop-master:~# ls  //  voir la liste des fichiers contenus dans le containers 
hdfs  purchases.txt  purchases2.txt  run-wordcount.sh  start-hadoop.sh  start-kafka-zookeeper.sh

@hadoop-master:~# ls -l purchases.txt  // voir la taille du fichier purchases.txt
-rw-r--r-- 1 root root 211312924 Feb  8  2017 purchases.txt

lancer hadoop et yarn.
--------------------

hadoop-master:~# ./start-hadoop.sh // démarrer le namenode [hadoop-master] et yarn daemon pour gestiont des datanode  [slave1 & slave2] (allocation des ressources dans les nodes manager )


Créer un répertoire dans HDFS, appelé input 
------------------------------------------

hadoop-master:~# hadoop fs -mkdir -p input 

// hadoop fs : permet d'avoir accès au contenu du repertoir racine hdfs 
// -mkdir : permet de créer un dossier dans hdfs 
// -p : permet de construire le path depuis le dossier parent 


tester si le repertoire input est créer 
--------------------------------------
hadoop-master:~# hadoop fs -ls // afficher les fichiers contenu dans le repertoire racine 

resultat : 
drwxr-xr-x   - root supergroup          0 2022-07-16 10:01 input


copier le fichier purchases.txt qui se trouve dans hadooop dans le repertoire input 
------------------------------------------------------------------------------------

syntaxe : hadooop fs -put [FICHIER_à_COPIER] [Repertoire_Destinataire]

hadoop-master:~# hadoop fs -put purchases.txt input 

// lors de la copîe hadoop découpe le fichier en un ensemble de blocks  reparties sur l'ensemble des noeuds du système (datanodes)

tester si le fichier a bien été copié
-------------------------------------
// affiche les fichiers contenus dans le repertoire input 
syntaxe : hadooop fs -ls [Repertoire_Parent]

root@hadoop-master:~# hadoop fs -ls input 
Found 1 items
-rw-r--r--   2 root supergroup  211312924 2022-07-16 10:11 input/purchases.txt


// affiche le fcontenu du fichier 
syntaxe : hadooop fs -tail  [path/fichier]

hadoop-master:~#   hadoop fs -tail input/purchases.txt

visualiser hadoop web
------------------

url :  http://localhost:50070/

dans utilitises / browser file systems

Browse Directory

/user/root/input : 

Permission	Owner	Group	    Size	    Last Modified	      Replication	Block Size    Name
-rw-r--r--	root	supergroup	201.52 MB	16/07/2022 12:11:43	  2	            128 MB	      purchases.txt

